<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
PUBLIC "-//mybatis.org//DTD Mapepr 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="businessMapper">
	
	
	<resultMap type="Business" id="BusinessResultSet">
		<id property="bus_code" column="BUS_CODE" />
		<result property="us_no" column="US_NO" />
		<result property="bus_name" column="BUS_NAME" />
		<result property="bus_address" column="BUS_ADDRESS" />
		<result property="bus_intro" column="BUS_INTRO" />
		<result property="bus_date" column="BUS_DATE" />
		<result property="bus_modify" column="BUS_MODIFY" />
		<result property="ad_count" column="AD_COUNT" />
		<result property="bus_classify" column="BUS_CLASSIFY" />
		<result property="bus_category" column="BUS_CATEGORY" />
		<result property="bus_status" column="BUS_STATUS" />
		<result property="bus_phone" column="BUS_PHONE" />
		<result property="hotel_category" column="HOTEL_CATEGORY" />
		<result property="tour_category" column="TOUR_CATEGORY" />
		<result property="tour_tema" column="TOUR_TEMA" />
		<result property="al_no" column="AL_NO" />
		<result property="bus_opening" column="BUS_OPENING" />
		
	</resultMap>
	<resultMap type="BusinessAtt" id="BusinessAttResultSet">
		<id property="file_no" column="FILE_NO" />
		<result property="file_name" column="FILE_NAME" />
		<result property="file_root" column="FILE_ROOT" />
		<result property="file_status" column="FILE_STATUS" />
		<result property="file_rename" column="FILE_RENAME" />
		<result property="file_lv" column="FILE_LV" />
		<result property="bus_code" column="BUS_CODE" />
	</resultMap>
	<insert id="insertRestaurant" parameterType="Business">
		INSERT
		  INTO BUSINESS
		  (
		  	BUS_CODE
		  , US_NO
		  , BUS_NAME
		  , BUS_ADDRESS
		  , BUS_INTRO
		  , BUS_DATE
		  , BUS_MODIFY
		  , AD_COUNT
		  , BUS_CLASSIFY
		  , BUS_CATEGORY
		  , BUS_STATUS
		  , BUS_PHONE
		  , BUS_OPENING
		  )
		  VALUES
		  (
		  	BUS_SEQ_NO.NEXTVAL
		  , #{us_no}
		  , #{bus_name}
		  , #{bus_address}
		  , #{bus_intro}
		  , SYSDATE
		  , SYSDATE
		  , DEFAULT
		  , DEFAULT
		  , DEFAULT
		  , DEFAULT
		  , DEFAULT
		  )
	</insert>
	<insert id="insertRestaurant2" parameterType="BusinessAtt">
		INSERT
		  INTO BUSINESSATT
		  (
		  	FILE_NO
		  ,	FILE_NAME
		  ,	FILE_ROOT
		  ,	FILE_STATUS
		  ,	FILE_RENAME
		  ,	FILE_LV
		  ,	BUS_CODE
		  )
		  VALUES
		  (
		  	BUSATT_SEQ_NO.NEXTVAL
		  , #{file_name}
		  , #{file_root}
		  , DEFAULT
		  , #{file_rename}
		  , DEFAULT
		  , BUS_SEQ_NO.CURRVAL
		  )
	</insert>
</mapper>